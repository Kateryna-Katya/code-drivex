{"version":3,"file":"main-Dq9I6aUH.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  console.log(\"Скрипт v3.0 (Final) запущен!\");\n\n  // --- 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК ---\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  }\n\n  // --- 2. ПЛАВНЫЙ СКРОЛЛ (LENIS) ---\n  const lenis = new Lenis({\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      smooth: true,\n  });\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n  // --- 3. МОБИЛЬНОЕ МЕНЮ ---\n  const burger = document.querySelector('.burger');\n  const mobileMenu = document.querySelector('.mobile-menu');\n  const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n\n  if (burger && mobileMenu) {\n      burger.addEventListener('click', () => {\n          burger.classList.toggle('active');\n          mobileMenu.classList.toggle('active');\n          // Блокируем скролл страницы, когда меню открыто\n          document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';\n      });\n\n      // Закрываем меню при клике на любую ссылку\n      mobileLinks.forEach(link => {\n          link.addEventListener('click', () => {\n              burger.classList.remove('active');\n              mobileMenu.classList.remove('active');\n              document.body.style.overflow = '';\n          });\n      });\n  }\n\n  // --- 4. АНИМАЦИИ (GSAP) ---\n  gsap.registerPlugin(ScrollTrigger);\n\n  // A. Заголовок Hero (SplitType)\n  const splitText = document.querySelector('.split-text');\n  if (splitText) {\n      splitText.style.opacity = 1; // Показываем текст перед анимацией\n      const typeSplit = new SplitType('.split-text', { types: 'lines, words, chars' });\n      gsap.from(typeSplit.chars, {\n          opacity: 0,\n          y: 50,\n          rotation: 5,\n          duration: 1,\n          stagger: 0.05,\n          delay: 0.2,\n          ease: 'back.out(1.7)'\n      });\n\n      // Остальные элементы Hero\n      gsap.from('.hero__desc, .hero__btns, .hero__badge', {\n          opacity: 0,\n          y: 30,\n          duration: 1,\n          stagger: 0.2,\n          delay: 0.8,\n          ease: 'power3.out'\n      });\n  }\n\n  // B. Заголовки всех секций\n  gsap.utils.toArray('.section').forEach(section => {\n      const elements = section.querySelectorAll('.section__title, .section__subtitle');\n      if (elements.length > 0) {\n          gsap.from(elements, {\n              scrollTrigger: { trigger: section, start: 'top 85%' },\n              y: 50,\n              opacity: 0,\n              duration: 0.8,\n              stagger: 0.2\n          });\n      }\n  });\n\n  // C. СЕТКИ И КАРТОЧКИ (ИСПРАВЛЕНО: ГРУЗЯТСЯ ВСЕ ЭЛЕМЕНТЫ)\n  // Находим все контейнеры сеток: Преимущества, Блог, Инновации (если есть список)\n  const grids = document.querySelectorAll('.about__grid, .blog__grid, .benefits__list');\n\n  grids.forEach(grid => {\n      // Анимируем ДЕТЕЙ (children), то есть сами карточки\n      const cards = grid.children;\n\n      if (cards.length > 0) {\n          gsap.from(cards, {\n              scrollTrigger: {\n                  trigger: grid,\n                  start: 'top 85%', // Начинаем, когда верх сетки чуть выше низа экрана\n              },\n              y: 50,\n              opacity: 0,\n              duration: 0.8,\n              stagger: 0.2, // Задержка между появлением карточек (0.2 сек)\n              ease: 'power2.out',\n              clearProps: \"all\" // Очищаем стили после анимации, чтобы не ломать верстку\n          });\n      }\n  });\n\n  // --- 5. КОНТАКТНАЯ ФОРМА (ВАЛИДАЦИЯ) ---\n  const form = document.getElementById('contactForm');\n\n  if (form) {\n      const phoneInput = document.getElementById('phone');\n      const policyCheckbox = document.getElementById('policy');\n      const captchaInput = document.getElementById('captchaInput');\n      const captchaLabel = document.getElementById('captchaLabel');\n      const statusDiv = document.getElementById('formStatus');\n\n      // 5.1 Блокировка ввода букв в телефон (Мгновенно)\n      phoneInput.addEventListener('input', function(e) {\n          this.value = this.value.replace(/\\D/g, '');\n      });\n\n      // 5.2 Математическая капча\n      let n1 = Math.floor(Math.random() * 10);\n      let n2 = Math.floor(Math.random() * 10);\n      if(captchaLabel) captchaLabel.textContent = `Сколько будет ${n1} + ${n2}?`;\n\n      // 5.3 Обработка отправки\n      form.addEventListener('submit', function(e) {\n          e.preventDefault(); // ОТМЕНА ПЕРЕЗАГРУЗКИ\n\n          let hasError = false;\n          const inputs = form.querySelectorAll('input[required]');\n\n          // Сброс старых ошибок (убираем красную обводку и текст)\n          document.querySelectorAll('.error-msg').forEach(el => el.style.opacity = '0');\n          document.querySelectorAll('.form-group, .form-checkbox').forEach(el => el.classList.remove('error'));\n\n          // Проверка текстовых полей\n          inputs.forEach(input => {\n              // Чекбокс проверяем отдельно\n              if (input.type === 'checkbox') return;\n\n              if (!input.value.trim()) {\n                  setError(input);\n                  hasError = true;\n              }\n              // Валидация Email\n              if (input.type === 'email' && input.value.trim()) {\n                  const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n                  if (!re.test(input.value)) {\n                      setError(input);\n                      hasError = true;\n                  }\n              }\n          });\n\n          // Проверка Чекбокса\n          if (!policyCheckbox.checked) {\n              policyCheckbox.parentElement.classList.add('error');\n              hasError = true;\n          }\n\n          // Проверка Капчи\n          if (parseInt(captchaInput.value) !== (n1 + n2)) {\n              setError(captchaInput);\n              hasError = true;\n          }\n\n          if (hasError) {\n              statusDiv.textContent = 'Пожалуйста, проверьте правильность заполнения полей.';\n              statusDiv.style.color = '#ff4d4d';\n              return;\n          }\n\n          // Успешная отправка (Имитация)\n          const btn = form.querySelector('button[type=\"submit\"]');\n          const oldText = btn.textContent;\n          btn.textContent = 'Отправка...';\n          btn.disabled = true;\n\n          setTimeout(() => {\n              btn.textContent = oldText;\n              btn.disabled = false;\n              statusDiv.textContent = 'Спасибо! Данные успешно отправлены.';\n              statusDiv.style.color = '#ccff00';\n              form.reset();\n\n              // Обновляем капчу\n              n1 = Math.floor(Math.random() * 10);\n              n2 = Math.floor(Math.random() * 10);\n              captchaLabel.textContent = `Сколько будет ${n1} + ${n2}?`;\n\n              // Убираем сообщение через 5 сек\n              setTimeout(() => { statusDiv.textContent = ''; }, 5000);\n          }, 1500);\n      });\n\n      // Вспомогательная функция для установки ошибки\n      function setError(inputElement) {\n          inputElement.parentElement.classList.add('error');\n          const msg = inputElement.parentElement.querySelector('.error-msg');\n          if(msg) msg.style.opacity = '1';\n      }\n  }\n\n  // --- 6. COOKIE POPUP ---\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptCookie = document.getElementById('acceptCookie');\n\n  if (cookiePopup && !localStorage.getItem('cookiesAccepted')) {\n      setTimeout(() => {\n          cookiePopup.classList.add('show');\n      }, 2000);\n  }\n\n  if (acceptCookie) {\n      acceptCookie.addEventListener('click', () => {\n          localStorage.setItem('cookiesAccepted', 'true');\n          cookiePopup.classList.remove('show');\n      });\n  }\n});"],"names":["lenis","raf","time","burger","mobileMenu","mobileLinks","link","splitText","typeSplit","section","elements","grid","cards","form","setError","inputElement","msg","phoneInput","policyCheckbox","captchaInput","captchaLabel","statusDiv","e","n1","n2","hasError","inputs","el","input","btn","oldText","cookiePopup","acceptCookie"],"mappings":"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"}