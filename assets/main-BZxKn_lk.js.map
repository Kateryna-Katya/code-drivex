{"version":3,"file":"main-BZxKn_lk.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК\n    lucide.createIcons();\n\n    // 2. SMOOTH SCROLL (LENIS)\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        smooth: true,\n    });\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // 3. МОБИЛЬНОЕ МЕНЮ (ИСПРАВЛЕНО)\n    const burger = document.querySelector('.burger');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n    const body = document.body;\n\n    function toggleMenu() {\n        burger.classList.toggle('active');\n        mobileMenu.classList.toggle('active');\n        // Блокируем скролл фона\n        if (mobileMenu.classList.contains('active')) {\n            lenis.stop();\n            body.style.overflow = 'hidden';\n        } else {\n            lenis.start();\n            body.style.overflow = '';\n        }\n    }\n\n    burger.addEventListener('click', toggleMenu);\n\n    // Закрытие при клике на ссылку\n    mobileLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            toggleMenu();\n        });\n    });\n\n    // 4. GSAP ANIMATIONS\n    gsap.registerPlugin(ScrollTrigger);\n\n    // Анимация заголовка Hero (SplitType)\n    const typeSplit = new SplitType('.split-text', { types: 'lines, words, chars' });\n    \n    gsap.from(typeSplit.chars, {\n        opacity: 0,\n        y: 50,\n        rotation: 5,\n        duration: 1,\n        stagger: 0.05,\n        ease: 'back.out(1.7)',\n        delay: 0.2\n    });\n\n    gsap.from('.hero__desc, .hero__btns, .hero__badge', {\n        opacity: 0,\n        y: 30,\n        duration: 1,\n        stagger: 0.2,\n        delay: 0.8,\n        ease: 'power3.out'\n    });\n\n    // Анимация секций при скролле\n    const sections = document.querySelectorAll('.section');\n    sections.forEach(section => {\n        gsap.from(section.querySelectorAll('.section__title, .section__subtitle'), {\n            scrollTrigger: {\n                trigger: section,\n                start: 'top 80%',\n            },\n            y: 50,\n            opacity: 0,\n            duration: 0.8,\n            stagger: 0.1,\n            ease: 'power2.out'\n        });\n    });\n\n    // Анимация карточек (stagger)\n    gsap.utils.toArray('.about__grid, .blog__grid').forEach(grid => {\n        gsap.from(grid.children, {\n            scrollTrigger: {\n                trigger: grid,\n                start: 'top 85%',\n            },\n            y: 50,\n            opacity: 0,\n            duration: 0.8,\n            stagger: 0.15,\n            ease: 'power2.out'\n        });\n    });\n\n    // 5. КОНТАКТНАЯ ФОРМА & ВАЛИДАЦИЯ\n    const form = document.getElementById('contactForm');\n    const inputs = form.querySelectorAll('input[required]');\n    const captchaLabel = document.getElementById('captchaLabel');\n    const captchaInput = document.getElementById('captchaInput');\n    const statusDiv = document.getElementById('formStatus');\n\n    // Генерация простой мат. капчи\n    let num1 = Math.floor(Math.random() * 10);\n    let num2 = Math.floor(Math.random() * 10);\n    captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n\n    // Валидация телефона (только цифры)\n    const phoneInput = document.getElementById('phone');\n    phoneInput.addEventListener('input', function(e) {\n        this.value = this.value.replace(/[^0-9+]/g, '');\n    });\n\n    form.addEventListener('submit', function(e) {\n        e.preventDefault();\n        let isValid = true;\n        \n        // Сброс ошибок\n        document.querySelectorAll('.form-group').forEach(g => g.classList.remove('error'));\n\n        // Проверка полей\n        inputs.forEach(input => {\n            if (!input.value.trim()) {\n                input.parentElement.classList.add('error');\n                isValid = false;\n            }\n            // Проверка Email\n            if (input.type === 'email') {\n                const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n                if (!re.test(input.value)) {\n                    input.parentElement.classList.add('error');\n                    isValid = false;\n                }\n            }\n        });\n\n        // Проверка капчи\n        if (parseInt(captchaInput.value) !== (num1 + num2)) {\n            captchaInput.parentElement.classList.add('error');\n            isValid = false;\n        }\n\n        if (isValid) {\n            // Имитация AJAX отправки\n            const btn = form.querySelector('button');\n            const originalText = btn.textContent;\n            btn.textContent = 'Отправка...';\n            btn.disabled = true;\n\n            setTimeout(() => {\n                btn.textContent = originalText;\n                btn.disabled = false;\n                statusDiv.textContent = 'Спасибо! Мы свяжемся с вами в ближайшее время.';\n                statusDiv.style.color = '#ccff00';\n                form.reset();\n                // Новая капча\n                num1 = Math.floor(Math.random() * 10);\n                num2 = Math.floor(Math.random() * 10);\n                captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n            }, 1500);\n        }\n    });\n\n    // 6. COOKIE POPUP\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptCookie = document.getElementById('acceptCookie');\n\n    if (!localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => {\n            cookiePopup.classList.add('show');\n        }, 2000);\n    }\n\n    acceptCookie.addEventListener('click', () => {\n        localStorage.setItem('cookiesAccepted', 'true');\n        cookiePopup.classList.remove('show');\n    });\n});"],"names":["lenis","t","raf","time","burger","mobileMenu","mobileLinks","body","toggleMenu","link","typeSplit","section","grid","form","inputs","captchaLabel","captchaInput","statusDiv","num1","num2","e","isValid","g","input","btn","originalText","cookiePopup","acceptCookie"],"mappings":"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"}